<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DMDE - Восстановление данных</title>
<link rel="stylesheet" href="dmdeman.css" type='text/css' />
</head>
<body>
<a name="datarecovery"></a>
<div id="bklayer">
<div id="wrapper">
<a href="toc.html">Содержание</a> &middot; <a href="howto.html">Работа</a> &middot; 
<a href="menu.html">Меню</a> &middot; <a href="menu_tools.html">Сервис</a>
<hr />
<h2>Восстановление данных</h2>

<a href="badrecovery.html">Проблемы с носителем</a> 
&nbsp;
<a href="removedrecovery.html">Удаленные файлы</a>
&nbsp;
<a href="#recoveryevents">Ошибки в файлах</a>
&nbsp;
<a href="datarecovery.html#efs">Зашифрованные файлы</a>
&nbsp;
<a href="fullscan.html">Полное сканирование</a>
<p>
<span style="color:#ff0000; font-weight: bold;">Внимание!</span>
Убедитесь, что устройство исправно
(<a href="badrecovery.html">если имеются проблемы с устройством</a>).
</p>
<p>
<strong style="color:#ff0000; font-weight: bold;">Внимание!</strong>
Ничего не записывайте и не исправляйте на исходном диске.
Рекомендуется восстанавливать данные на другое физическое устройство. 
Восстановление на другой раздел того же диска возможно только в случае, 
если разделы на диске не пересекаются и диск не имеет физических проблем.
Не загружайте систему и не запускайте программу с раздела, на котором
находятся данные для восстановления (<a href="setup.html">Установка и запуск</a>).
</p>
<p>
<strong style="color:#ff0000; font-weight: bold;">Внимание!</strong>
Если файлы восстанавливаются неправильно или имеются другие проблемы,
убедитесь, что используются самые <a href="about.html">новые версии программы</a> 
из надёжного источника.
</p>

<h3>Порядок действий</h3>
<ul>
<li><a href="openvolume.html">Найти и открыть том</a>, содержащий потерянные данные;</li>
<li>открыть виртуальную директорию <span class="ii">[Все найденные / виртуальная ФС]</span>,
чтобы получить больше или меньше найденных файлов (см.: <a href="reconstruction.html">Виртуальная реконструкция ФС</a>);
</li>
<li>
Отметить файлы и папки и использовать команду меню <a href="menu_tools.html">Сервис</a> &middot; "Восстановить"
для восстановления данных на другой диск.
</li>
</ul>
<p>
В редакции <a href="editions.html">Free Edition</a>
одной командой можно восстановить до 4000 файлов только из текущей панели 
(следует сначала открыть директорию с требуемыми файлами в панели,
a затем выбрать восстановление из панели).
</p>
<p>
Если файлы после восстановления не открываются/не проигрываются, 
следует попробовать другие варианты тома - 
вернуться к результатам <a href="fullscan.html">полного сканирования</a> или к окну 
<a href="partitions.html">Разделы</a> и открыть следующий найденный том.
</p>

<div class="l">
<h3>Окно "Восстановить"</h3>
<h4>Категории файлов</h4>
<p>
Выбор категорий файлов для восстановления - 
см. <a href="filepanel.html#fileicons">значки на панели файлов</a> для информации о категориях. 
Отметки с исключенных файлов будут сняты, 
если не включена опция "<span class="ii">оставлять отметки выбора для исключенных элементов</span>".
</p>

<h4>Кнопка "Объём"</h4>
<p>Позволяет вычислить объём выбранных данных для восстановления.
После вычисления объёма индикатор процесса показывает текущий процент от общего объёма.
</p>
<h4 id="drfilelist">Кнопка "Список" &middot; Список файлов</h4>
<p>
Позволяет сохранить в файл список выбранных файлов с их атрибутами.
</p>
<h4 id="drseclist">Кнопка "Список" &middot; Список секторов</h4>
<p>
Позволяет получить список секторов, занятых выбранными файлами 
(например, может использоваться другим программным обеспечением для создания частичного клона диска). 
В список можно вывести границы фрагментов в <span class="ii">секторах</span> и 
<span class="ii">байтах</span>, указать <span class="ii">пути к файлам</span>.
</p>
<p>
Опция <span class="ii">Диапазоны секторов</span> позволяет вывести только те фрагменты файлов, 
которые находятся в указанных диапазонах секторов. 
Например, это позволяет получить список поврежденных файлов, 
расположенных в сбойных секторах, при восстановлении из файла образа 
(или с исправного клонированного диска), 
который сам по себе не сообщает об исходных поврежденных секторах. 
Если образ&nbsp;/ клон создан с помощью функции <a href="copysectors.html">Копировать секторы</a> 
с включенным файлом журнала, 
то можно экспортировать список поврежденных и пропущенных секторов из журнала 
с помощью команды в <a href="copysectors.html#devcopymenu">меню</a> 
диалога "<span class="ii">Копировать секторы</span>".
</p>
<p>
В редакции <a href="editions.html">Free Edition</a> применяются ограничения восстановления данных 
на число файлов и обработку подкаталогов. 
В качестве альтернативы без ограничений можно использовать
<a href="clustermap.html#cmapreport">отчет карты кластеров</a>, 
в этом случае списки также будут отсортированы по положению фрагментов на диске.
</p>

<h4>Опция "Включая альт. потоки NTFS" (только в <a href="editions.html">Professional Edition</a>)</h4>
<p>
Восстановить альтернативные потоки данных NTFS.
Потоки отображаются в <a href="filepanel.html#fileicons">панели файлов</a> 
после <a href="reconstruction.html">реконструкции ФС</a>,
имя альт.&nbsp;потока отделяется двоеточием.
</p>
<h4>Фильтры файлов</h4>
<p>
Поддерживается фильтрация по имени, размеру, дате модификации, идентификатору файла. 
Отметки с исключенных файлов будут сняты, 
если не включена опция "<span class="ii">оставлять отметки выбора для исключенных элементов</span>".
Если не нужно ограничивать верхнее значение размера/ID файла, следует указать 
<span class="tt">0</span> (ноль) в качестве второго значения.
</p>
<p>
Шаблоны имён разделяются точкой с запятой.
Поддерживаются подстановочные знаки "<span class="tt">*</span>" (любой набор символов) 
и "<span class="tt">?</span>" (любой символ).
Шаблон для исключения можно задать, добавив впереди обратный слэш "<span class="tt">\</span>".
Шаблоны вначале имеют приоритет. 
Например, имя <span class="tt">abc.tmp</span> подходит под шаблон <span class="tt">a*;\*.tmp</span> 
и не подходит под <span class="tt">\*.tmp;a*</span>.
</p>
<p>
Если включена опция <span class="ii">Обработать только директории с файлами</span>, 
то будут восстановлены только директории, содержащие файлы, соответстующие фильтрам.
</p>
<h4>Создать отчёт (только в <a href="editions.html">Professional Edition</a>)</h4>
<p>
Сохранить отчёт восстановления данных -
список файлов и директорий, опционально - ошибки ввода-вывода, 
контрольные суммы CRC-32, MD5, SHA-1, SHA-256.
Имя файла отчета и другие параметры запрашиваются непосредственно перед началом восстановления.
</p>
</div>

<h3>Дополнительные возможности</h3>
<h4>Имена в юникоде</h4>
<p>
Опция включена или используется по умолчанию, если ОС поддерживает юникод.
Без поддержки юникода символы в именах вне выбранной кодовой страницы будут транслитерированы или заменены 
(см. <a href="locales.html">Локализация</a>). Недоступно в DOS.
</p>
<h4>Восстановление на диски FAT, опция "Разделить большие файлы"</h4>
<p>
Тома FAT не поддерживают файлы более 4&nbsp;ГБ (в некоторых случаях - 2&nbsp;ГБ).
Файлы большего размера могут быть поделены на части по запросу, 
если ОС верно сообщает об ошибке (что бывает не всегда), 
либо если отмечена опция <span class="ii">Разделить большие файлы</span> (рекомендуется).
Части файла можно объединить на другом диске, например, 
с помощью системной команды:
<span class="tt">copy /b part1 + part2 + part3 result</span>.
DOS без расширений поддерживает только разделы FAT.
</p>
<h4 id="namesubst">Имена файлов в DOS, опция "Заменить имена"</h4>
<p>Без специальных драйверов длинные имена файлов не поддерживаются в DOS. 
Опция <span class="ii">Заменить имена</span> позволяет заменить имена при восстановлении. 
При этом в папке назначения будет создан файл <span class="tt">LRENAME.BAT</span> для обратного переименования. 
Для восстановления исходных имён необходимо загрузить Windows, 
перейти в папку назначения и запустить файл <span class="tt">LRENAME.BAT</span>. 
</p>
<p>
С опцией <span class="ii">utf-8</span> файл <span class="tt">LRENAME.BAT</span> 
будет создан в формате utf-8 с полной поддержкой юникода.
Формат utf-8 поддерживается в Windows&nbsp;7 и выше.
Без опции <span class="ii">utf-8</span>
символы, не входящие в выбранную <a href="locales.html">кодовую страницу OEM</a> 
будут транслитерированы или заменены.
</p>
<h4>Пути длиной более 259 символов (Windows NT и выше)</h4>
<p>
Опция <span class="ii">Поддержка очень длинных путей</span>
(или ручное добавление префикса <span class="tt">\\?\</span> при указании папки назначения, 
например: <span class="tt">\\?\D:\</span>) 
позволяет восстановить пути длиной более 259 символов.
Такие длинные пути могут быть не доступны с использованием стандартных средств ОС ("Проводник").
</p>
<h4 id="recoveryevents">Обработка совпадений имен, ошибок в файлах и других событий</h4>
<p>
При восстановлении данных возможно <b>дублирование имён</b>, 
если обнаружены различные версии одного файла/директории (или различные ссылки),
если неправильно объединены директории,
если ФС назначения не различает некоторые имена (нечувствительна к регистру),
если в директории назначения уже были файлы. Необходимо выбрать способ обработки таких ситуаций.
</p>
<p>
Доступны опции <span class="ii">переименовать/автоматически, пропустить/все, слить/все</span> (для директорий).
Также запрашивается порог (максимальное число дубликатов одного имени).
При достижении порога выводится повторный запрос на выбор действия.
Обработка совпадающих имён не работает при использовании <span class="ii">замены имён</span> в DOS.
</p>
<p>
При восстановлении данных могут быть ошибки <a href="deviodlg.html">ввода-вывода</a>
и ошибки файловой системе, которые явно приводят к <b>ошибкам в затронутых файлах</b>.
Для таких файлов можно также выбрать способ обработки:
<br />
<span class="ii">Пропустить</span> - пропустить файл с такими ошибками (пропущенные файлы останутся отмеченными),<br />
<span class="ii">Игнорировать</span> - продолжить восстановление с ошибками,<br />
<span class="ii">Пропустить и скрыть</span>  - продолжить восстановление и скрыть файл 
(в Windows&nbsp;/ DOS будет установлен атрибут "скрытый", 
в Linux&nbsp;/ macOS будет установлен нулевой (<span class="tt">0</span>) режим разрешений - без доступа).<br />
<span class="ii">Переместить в $Bad</span> - переместить файл внутрь директории <span class="tt">$Bad</span>, 
созданной в директории назначения.
</p>
<p>
Настроить обработку событий можно и в процессе восстановления, и заранее с помощью опции
<span class="ii">Обработка событий.</span>
Также можно изменить путь назначения, разделить файл, если недостаточно свободного места.
</p>

<h3 id="efs">Восстановление зашифрованных файлов NTFS</h3>
<p>
Зашифрованные файлы NTFS восстанавливаются без расшифровки. 
Зашифрованный файл содержит зашифрованные данные и ключ шифрования, который, в свою очередь, зашифрован ключом сертификата.
Чтобы открывать файлы после восстановления, необходимо установить сертификат из исходной ОС или бэкапа на целевую ОС.
Обратитесь к справке Microsoft по экспорту и импорту сертификатов.
</p>
<p>
Для хранения зашифрованных файлов шифрование NTFS (EFS) должно поддерживаться как ОС, 
так и целевой файловой системой (то есть требуются Windows и NTFS).
В программе имеются дополнительные опции восстановления EFS при работе на других платформах.
</p>
<p>
Восстановить <span class="ii">в отдельные потоки</span>: восстановить потоки данных и ключи в отдельные файлы
(назначаются расширения <span class="tt">*.efs</span> и <span class="tt">*.efk</span>).
Дальнейшая обработка этих файлов решается пользователем самостоятельно.<br />
Восстановить <span class="ii">в бэкап (портативный формат)</span>: восстановить данные и ключ в файл бэкапа
(<span class="tt">.efb</span>). Файлы бэкапа можно затем восстановить в файлы EFS с помощью
команды меню <a href="menu_tools.html">Сервис</a> - <span class="ii">Восстановить EFS из бэкапа...</span>
при запуске на платформе с поддержкой EFS.
<br />
Восстановить <span class="ii">в зашифрованный файл NTFS</span>: восстановить сразу в зашифрованный файл NTFS
(только при работе на платформе с поддержкой EFS).
<br />


</p>

</div></div>
</body>
</html>